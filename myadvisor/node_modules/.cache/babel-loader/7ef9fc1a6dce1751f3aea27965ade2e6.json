{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/ubuntu/myAdvisorDev/myadvisor/src/components/DetailsCard.js\";\nimport React, { Component } from \"react\";\nimport { ToastContainer, toast } from 'react-toastify';\n\nclass DetailsCard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.editingHandler = () => {\n      this.setState({\n        editing: !this.state.editing\n      });\n    };\n\n    this.onChangeHandler = event => {\n      this.setState({\n        file: event.target.files[0]\n      });\n    };\n\n    this.onClickHandler = () => {\n      var formdata = new FormData();\n\n      if (this.state.file === null) {\n        // If no file has been uploaded, do nothing\n        return;\n      }\n\n      formdata.append(\"file\", this.state.file, \"[PROXY]\"); // Add file to FormData object, Proxy is only used in development to connect to node server\n\n      var requestOptions = {\n        // Create DELETE request\n        method: 'DELETE',\n        redirect: 'follow'\n      };\n      var studentId = localStorage.getItem(\"username\"); // Get username from localStorage\n\n      toast.success(\"Processing transcript...\"); // Make toast to let user know their transcript is being processed\n\n      fetch(`/transcript/courses/deleteAll/${studentId}`, requestOptions) // Make request to server to delete all of a student's related courses from the database\n      .then(response => response.text()).then(result => console.log(result)).then(result => {\n        fetch(`/transcript/details/delete/${studentId}`, requestOptions) // Then make request to server to delete all of a student's details from the database\n        .then(response => response.text()).then(result => console.log(result)).then(result => {\n          var requestOptions = {\n            // Create POST request\n            method: 'POST',\n            body: formdata,\n            redirect: 'follow'\n          };\n          fetch(\"/transcript/parseForm\", requestOptions) // Then make request to server to parse transcript, upload student details and thei r courses to the database\n          .then(response => response.text()).then(result => console.log(result)).then(result => this.props.uploadedHandler()) // Once the data has been saved to the database, run uploadedHandler from StudentProfile\n          .catch(error => console.log('error', error));\n        }).catch(error => console.log('error', error));\n      }).catch(error => console.log('error', error));\n    };\n\n    this.state = {\n      file: null,\n      // Store file uploaded by user\n      editing: false // Boolean to determine if the user is reuploading their transcript or not\n\n    };\n    props.setProg(20); // Set degree progress to 20%\n  } // Function that runs when the user clicks to re-upload their transcript or to cancel re-upload\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card details-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: !this.state.editing ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-2\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"row-title blue-txt\",\n                  children: \"Student Name:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-10\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"row-info\",\n                  children: this.props.details.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-2\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"row-title blue-txt\",\n                  children: \"Student ID:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-10\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"row-info\",\n                  children: this.props.details.studentId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-2\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"row-title blue-txt\",\n                  children: \"Degree:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-10\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"row-info\",\n                  children: this.props.details.degree\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-2\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"row-title blue-txt\",\n                  children: \"Major:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-10\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"row-info\",\n                  children: this.props.details.major\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-2\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"row-title blue-txt\",\n                  children: \"Degree GPA:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-1 col-sm-2\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"row-info\",\n                  children: this.props.details.gpa\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 37\n              }, this), this.props.details.gpa < 2 && this.props.details.gpa != 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-9 col-sm-8\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"row-warning\",\n                  children: \" Your GPA is below 2.0 and you are on Academic Warning. Please visit the Dean's Office to be Advised. \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 41\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-2\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"row-title blue-txt\",\n                  children: \"Admit Term:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-10\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"row-info\",\n                  children: this.props.details.admitTerm\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-3 edit-line\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fas fa-pencil-alt blue-txt\",\n                  children: \" \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"edit-transcript blue-txt\",\n                  onClick: this.editingHandler,\n                  children: \" Re-upload Transcript\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"row-info\",\n              children: \"Upload your new transcript.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"input-field col-sm-12\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                action: \"\",\n                encype: \"multipart/form-data\",\n                method: \"POST\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  name: \"file\",\n                  onChange: this.onChangeHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"button\",\n                  value: \"Upload\",\n                  class: \"btn btn-custom blue-btn\",\n                  onClick: this.onClickHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row back-button-row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-2\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  class: \"btn btn-custom back-button blue-button\",\n                  onClick: this.editingHandler,\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n          pauseOnHover: true,\n          position: \"top-left\",\n          autoClose: 10000\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default DetailsCard;","map":{"version":3,"sources":["/home/ubuntu/myAdvisorDev/myadvisor/src/components/DetailsCard.js"],"names":["React","Component","ToastContainer","toast","DetailsCard","constructor","props","editingHandler","setState","editing","state","onChangeHandler","event","file","target","files","onClickHandler","formdata","FormData","append","requestOptions","method","redirect","studentId","localStorage","getItem","success","fetch","then","response","text","result","console","log","body","uploadedHandler","catch","error","setProg","render","details","name","degree","major","gpa","admitTerm"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { ToastContainer, toast } from 'react-toastify';\n\nclass DetailsCard extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            file: null, // Store file uploaded by user\n            editing: false // Boolean to determine if the user is reuploading their transcript or not\n        }\n       props.setProg(20); // Set degree progress to 20%\n    }\n\n    // Function that runs when the user clicks to re-upload their transcript or to cancel re-upload\n    editingHandler = () => {\n        this.setState({\n            editing: !this.state.editing\n        });\n    }\n\n    // Function that runs when the user uploads a file\n    onChangeHandler = event =>{\n        this.setState({\n            file: event.target.files[0]\n        })\n    }\n\n    // Functions that runs when the user clicks the \"Upload\" button\n    onClickHandler = () => {\n        var formdata = new FormData();\n        if (this.state.file === null) { // If no file has been uploaded, do nothing\n            return;\n        }\n        formdata.append(\"file\", this.state.file, \"[PROXY]\"); // Add file to FormData object, Proxy is only used in development to connect to node server\n\n        var requestOptions = { // Create DELETE request\n          method: 'DELETE',\n          redirect: 'follow'\n        };\n\n        var studentId = localStorage.getItem(\"username\"); // Get username from localStorage\n\n        toast.success(\"Processing transcript...\") // Make toast to let user know their transcript is being processed\n        \n        fetch(`/transcript/courses/deleteAll/${studentId}`, requestOptions) // Make request to server to delete all of a student's related courses from the database\n            .then(response => response.text())\n            .then(result => console.log(result))\n            .then(result => {\n                fetch(`/transcript/details/delete/${studentId}`, requestOptions) // Then make request to server to delete all of a student's details from the database\n                    .then(response => response.text())\n                    .then(result => console.log(result))\n                    .then(result => {\n                        var requestOptions = { // Create POST request\n                            method: 'POST',\n                            body: formdata,\n                            redirect: 'follow'\n                        };\n            \n                        fetch(\"/transcript/parseForm\", requestOptions) // Then make request to server to parse transcript, upload student details and thei r courses to the database\n                            .then(response => response.text())\n                            .then(result => console.log(result))\n                            .then(result => this.props.uploadedHandler()) // Once the data has been saved to the database, run uploadedHandler from StudentProfile\n                            .catch(error => console.log('error', error));        \n                    })\n                    .catch(error => console.log('error', error));        \n            })\n          .catch(error => console.log('error', error));\n\t}\n\n\n    render() {\n        return (\n            <div>\n                <div className=\"card details-card\">\n                    <div className=\"card-body\">\n                        {!this.state.editing ? (\n                            <div>\n                                <div className=\"row\">\n                                    <div className=\"col-sm-2\">\n                                        <p className=\"row-title blue-txt\">Student Name:</p>\n                                    </div>\n                                    <div className=\"col-sm-10\">\n                                        <p className=\"row-info\">{this.props.details.name}</p>\n                                    </div>\n                                </div>\n                                <div className=\"row\">\n                                    <div className=\"col-sm-2\">\n                                        <p className=\"row-title blue-txt\">Student ID:</p>\n                                    </div>\n                                    <div className=\"col-sm-10\">\n                                        <p className=\"row-info\">{this.props.details.studentId}</p>\n                                    </div>\n                                </div>\n                                <div className=\"row\">\n                                    <div className=\"col-sm-2\">\n                                        <p className=\"row-title blue-txt\">Degree:</p>\n                                    </div>\n                                    <div className=\"col-sm-10\">\n                                        <p className=\"row-info\">{this.props.details.degree}</p>\n                                    </div>\n                                </div>\n                                <div className=\"row\">\n                                    <div className=\"col-sm-2\">\n                                        <p className=\"row-title blue-txt\">Major:</p>\n                                    </div>\n                                    <div className=\"col-sm-10\">\n                                        <p className=\"row-info\">{this.props.details.major}</p>\n                                    </div>\n                                </div>\n                                <div className=\"row\">\n                                    <div className=\"col-sm-2\">\n                                        <p className=\"row-title blue-txt\">Degree GPA:</p>\n                                    </div>\n                                    <div className=\"col-md-1 col-sm-2\">\n                                        <p className=\"row-info\">{this.props.details.gpa}</p>\n                                    </div>\n                                    { this.props.details.gpa < 2 && this.props.details.gpa != 0 ? (\n                                        <div className=\"col-md-9 col-sm-8\">\n                                            <p className=\"row-warning\"> Your GPA is below 2.0 and you are on Academic Warning. Please visit the Dean's Office to be Advised. </p>\n                                        </div>\n                                    ) : (null) }\n                                </div>\n                                <div className=\"row\">\n                                    <div className=\"col-sm-2\">\n                                        <p className=\"row-title blue-txt\">Admit Term:</p>\n                                    </div>\n                                    <div className=\"col-sm-10\">\n                                        <p className=\"row-info\">{this.props.details.admitTerm}</p>\n                                    </div>\n                                </div>\n                                <div className=\"row\">\n                                    <div className=\"col-sm-3 edit-line\">\n                                        <i class=\"fas fa-pencil-alt blue-txt\"> </i>\n                                        <span className=\"edit-transcript blue-txt\" onClick={this.editingHandler}> Re-upload Transcript</span>\n                                    </div>\n                                </div>\n                            </div>\n                            ) : (\n\n                            <div>\n                                <p className=\"row-info\">Upload your new transcript.</p>\n                                <div class=\"input-field col-sm-12\">\n                                    <form action=\"\" encype=\"multipart/form-data\" method=\"POST\">\n                                        <input type=\"file\" name=\"file\" onChange={this.onChangeHandler}/>\n                                        <input type=\"button\" value=\"Upload\" class=\"btn btn-custom blue-btn\" onClick={this.onClickHandler}/>\n                                    </form>\n                                </div>\n                                <div className=\"row back-button-row\">\n                                    <div className=\"col-sm-2\">\n                                        <button type=\"submit\" class=\"btn btn-custom back-button blue-button\" onClick={this.editingHandler}>Cancel</button>\n                                    </div>\n                                </div>\n                            </div>\n\n                            ) }\n                    </div>\n                    <ToastContainer \n                        pauseOnHover\n                        position=\"top-left\"\n                        autoClose={10000}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default DetailsCard;\n"]},"metadata":{},"sourceType":"module"}