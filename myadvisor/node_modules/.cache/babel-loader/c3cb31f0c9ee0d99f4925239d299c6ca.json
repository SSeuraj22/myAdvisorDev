{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/ubuntu/myAdvisorDev/myadvisor/src/components/Finish.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component } from \"react\";\nimport \"../assets/css/Finish.css\";\nimport { useHistory } from 'react-router-dom'; //import axios from \"axios\";\n\nimport PullCourses from \"./PullCourses\";\nimport { useEffect, useState } from \"react\";\n\nconst Finish = props => {\n  _s();\n\n  const history = useHistory(); // Used to redirect to a new path without losing state values\n\n  const [uploaded, setUploaded] = useState(false); // Boolean value to indicate whether or not the advising session has been uploaded\n\n  const transcriptDets = props.transcriptDetails;\n  var totalCreditsCompleted = parseInt(props.studCredComplete) + parseInt(props.newDeg) + parseInt(props.courseInProgCredits); //this is a potential total number of credits completed\n\n  var gradeCombinations; //2D array to contain grade combination\n\n  var coursesNCredits = [...props.courseInProgNCreds, ...props.courseChoseNCreds]; //join two arrays\n  //console.log(coursesNCredits);\n  //console.log(transcriptDets);\n\n  var combinedDegreeGpa; //estimated gpa calculated using prior gpa and current gpa\n  //An array containing the grades and their quality points\n\n  const gradesArray = [{\n    grade: 'A+',\n    qualityPoints: 4.3\n  }, {\n    grade: 'A',\n    qualityPoints: 4.0\n  }, {\n    grade: 'A-',\n    qualityPoints: 3.7\n  }, {\n    grade: 'B+',\n    qualityPoints: 3.3\n  }, {\n    grade: 'B',\n    qualityPoints: 3.0\n  }, {\n    grade: 'B-',\n    qualityPoints: 2.7\n  }, {\n    grade: 'C+',\n    qualityPoints: 2.3\n  }, {\n    grade: 'C',\n    qualityPoints: 2.0\n  } //{grade: 'F1', qualityPoints: 1.7},\n  //{grade: 'F2', qualityPoints: 1.3},\n  //{grade: 'F3', qualityPoints: 0.0},\n  ]; // If the user's recommended courses has been lost, redirect to start page to generate them again\n\n  if (props.recCourses === null) {\n    history.push({\n      pathname: '/start'\n    });\n  }\n  /*\n      Calculate potential gpa and potential degree class\n  */\n\n  /*\n      priorDegGpaHrs - Prior Degree GPA Hours\n      priorDegGpa - Prior Degree GPA\n      currDegGpaHrs - Current Degree GPA Hours\n      currDegGpa - Current Degree GPA\n       FORMULA:\n      Combined Degree GPA = ((Prior Degree GPA Hours x Prior Degree GPA) + \n                              (Current Degree GPA Hours x Current Degree GPA)) / \n                              (Prior Degree GPA Hours + Current Degree GPA Hours)\n  */\n  //Function to calculate current degree gpa hours\n\n\n  function calculateCurrentDegreeGpaHrs(chosenCourseCreds, inProgCourseCreds) {\n    var currDegGpaHrs = chosenCourseCreds + inProgCourseCreds;\n    return currDegGpaHrs;\n  } //Function to calculate current degree gpa\n\n\n  function calculateCurrentDegreeGpa(totGradePtsEarned, totQualityPts) {\n    var currDegGpa = totGradePtsEarned / totQualityPts;\n    return currDegGpa;\n  } //function to calculate estimated gpa\n\n\n  function calculateCombinedDegreeGpa(priorDegGpaHrs, priorDegGpa, currDegGpaHrs, currDegGpa) {\n    var estimatedGPA = (priorDegGpaHrs * priorDegGpa + currDegGpaHrs * currDegGpa) / (priorDegGpaHrs + currDegGpaHrs);\n    return estimatedGPA;\n  } //console.log(calculateCombinedDegreeGpa(60.00, 3.00, 3.00, 4.00).toFixed(2));\n  //Function to calculate grade points for a course\n\n\n  function calculateGradePoints(gradeQualityHrs, gradeQualityPts) {\n    const gradePoints = gradeQualityHrs * gradeQualityPts;\n    return gradePoints;\n  } //Function to create grade combinations based on the number of courses a student is pursuing for the semester\n\n\n  function createGradeCombination(combine2DArray, coursesArr, numCourses, gradeArr, gradeArrSize) {\n    combine2DArray = Array(gradeArrSize).fill(0).map(row => new Array(numCourses).fill(1)); //initialize\n    //combine2DArray = Array(gradeArrSize).map(row => new Array(numCourses));\n\n    coursesArr.map(course => {\n      //traverse through course array\n      gradeArr.map(gradeItem => {});\n    });\n    var index = 0;\n    var combine2DArray2 = combine2DArray.map((array1, i) => //in first dimension\n    //console.log(i);\n    array1.map((array2, j) => {\n      //in second dimension\n      return gradArr;\n      gradeArr.map((gradeItem, k) => {//console.log(gradeItem.grade);\n      }); //return j;\n    }));\n    /*\n    var combine2DArray3 = gradeArr.map((gradeItem, k) => {\n        combine2DArray.map((array1, i) => //in first dimension\n            //console.log(i);\n            array1.map((array2, j) => { //in second dimension\n                return gradeItem;\n                //return j;\n            }\n        ))\n    \n    });\n    */\n    //console.log(combine2DArray);\n\n    return combine2DArray3;\n  }\n\n  console.log(createGradeCombination(gradeCombinations, coursesNCredits, 5, gradesArray, gradesArray.length)); //function to calculate the potential degree gpa for the semester\n\n  function calculateSemPotentialGpa() {\n    const priorDegGpaHrs = transcriptDets.degreeGpaHours; //found on transcript\n\n    const priorDegGpa = transcriptDets.gpa; //found on transcript\n    //console.log(priorDegGpaHrs);\n\n    var inProgressCourseCredits = props.courseInProgCredits; //total credit for in progress courses\n\n    var chosenCourseCredits = props.chosenCoursesCreds; //total credits for chosen courses\n\n    var currDegGpaHrs = calculateCurrentDegreeGpaHrs(chosenCourseCredits, inProgressCourseCredits); //total credits of courses that you are pursuing this semester (including inprogress course & course chosen for advising)\n    //const currDegGpa = ; //need to know how much courses user doing this sem\n    //need credits and quality points for each cours\n    //console.log(priorDegGpa);\n  } //calculateSemPotentialGpa();\n\n\n  useEffect(() => {\n    props.setProg(100); // Set advising progress to 100%\n\n    props.setShowBotButtons(false); // Hide \"Back to courses\" and \"Finish advising\" buttons on sidebar\n    //setTotCredComplete(parseInt(props.studCredComplete) + parseInt(props.newDeg) + parseInt(props.courseInProgCredits));//add the credits the student completed so far to the course credits that the student selected from advising \n    //getAllPotentialGraduate();\n    //console.log(\"1\");\n\n    /*\n    \n    async function getPotentialGraduate() {\n        try{\n            const res = await fetch(\"/student/a-potential-graduate/\" + localStorage.getItem(\"username\"));\n            const parseData = await res.json();\n            setPotentialGrad(parseData);\n        }\n        catch(err){\n            console.log(\"Error: \" + err.message);\n        }\n        /*\n        fetch(\"/student/a-potential-graduate/\" + localStorage.getItem(\"username\"))\n            .then((res) => res.json())\n            .then((data) => {\n                console.log(data);\n                setPotentialGrad(data);\n            })\n            .catch((err) =>{\n                console.log(err.message);\n            });\n        */\n    //}\n    //getPotentialGraduate();\n  }, []);\n  useEffect(() => {\n    if (!uploaded) {\n      // If advising session has not yet been uploaded\n      var requestOptions = {\n        // Create POST request\n        method: 'POST',\n        headers: {\n          token: localStorage.getItem(\"token\"),\n          \"Content-type\": \"application/json\"\n        },\n        redirect: 'follow'\n      };\n      fetch(`/student/academic-advising/session/${localStorage.getItem(\"username\")}`, requestOptions) // Make request to server to parse transcript, upload student details and their courses to the database\n      .then(response => response.text()).then(result => console.log(result)).catch(error => console.log('error', error));\n      setUploaded(true);\n    }\n\n    if (totalCreditsCompleted >= 93) {\n      if (!props.gradUploaded) {\n        //if potential graduate has not been uploaded to database yet\n        var requestOptions = {\n          // Create POST request\n          method: 'POST',\n          headers: {\n            token: localStorage.getItem(\"token\"),\n            \"Content-type\": \"application/json\"\n          },\n          redirect: 'follow'\n        };\n        fetch(`/student/potential-graduate/${localStorage.getItem(\"username\")}`, requestOptions) // Make request to server to upload potential graduate\n        .then(response => response.text()).then(result => console.log(result)).catch(error => console.log('error', error));\n        props.setGradUploaded(true);\n      }\n    }\n\n    if (totalCreditsCompleted >= 0 && totalCreditsCompleted < 93) {\n      var requestOptions = {\n        // Create POST request\n        method: 'GET',\n        redirect: 'follow'\n      };\n      fetch(`/student/potential-graduates/all`, requestOptions) // Make request to server to get all potential graduate\n      .then(response => response.json()).then(data => {\n        let graduates = data;\n\n        if (graduates !== null) {\n          graduates.map(function (graduate) {\n            if (graduate.studentId === parseInt(localStorage.getItem(\"username\"))) {\n              //if potential graduate found in database\n              var requestOptions2 = {\n                //create DELETE request\n                method: 'DELETE',\n                headers: {\n                  token: localStorage.getItem(\"token\")\n                }\n              };\n              fetch(`/student/potential-graduate/delete/${localStorage.getItem(\"username\")}`, requestOptions2) //delete potential graduate\n              .then(response => response.text()).then(result => console.log(result)).catch(error => console.log('error', error));\n            }\n          });\n        }\n      }).catch(error => console.log('error', error));\n    }\n  }, [totalCreditsCompleted]); // async function uploadAdvisingSession() {\n  //     try {\n  //       const {data:response} = await axios.post(`/student/academic-advising/session/${localStorage.getItem(\"username\")}`) //use data destructuring to get data from the promise object\n  //       return response\n  //     }\n  //     catch (error) {\n  //       console.log(error);\n  //     }\n  // }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-10\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card almost-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"almost-header blue-txt\",\n                children: \"You're all done with advising!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"almost-text\",\n                children: \"Here's a list of all the courses you chose:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 33\n              }, this), Array.from({\n                length: props.chosenCourses.length\n              }, (_, k) => {\n                return /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"course-chosen blue-txt\",\n                  children: props.chosenCourses[k]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 48\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card body-tips\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"almost-header2\",\n                children: \"Potential Degree Class:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"almost-text2\",\n                children: \"Here's a list of all the courses you chose:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 273,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Finish, \"ayKO17///ZoiD4k/J3lHhJIIflU=\", false, function () {\n  return [useHistory];\n});\n\n_c = Finish;\nexport default Finish;\n\nvar _c;\n\n$RefreshReg$(_c, \"Finish\");","map":{"version":3,"sources":["/home/ubuntu/myAdvisorDev/myadvisor/src/components/Finish.js"],"names":["React","Component","useHistory","PullCourses","useEffect","useState","Finish","props","history","uploaded","setUploaded","transcriptDets","transcriptDetails","totalCreditsCompleted","parseInt","studCredComplete","newDeg","courseInProgCredits","gradeCombinations","coursesNCredits","courseInProgNCreds","courseChoseNCreds","combinedDegreeGpa","gradesArray","grade","qualityPoints","recCourses","push","pathname","calculateCurrentDegreeGpaHrs","chosenCourseCreds","inProgCourseCreds","currDegGpaHrs","calculateCurrentDegreeGpa","totGradePtsEarned","totQualityPts","currDegGpa","calculateCombinedDegreeGpa","priorDegGpaHrs","priorDegGpa","estimatedGPA","calculateGradePoints","gradeQualityHrs","gradeQualityPts","gradePoints","createGradeCombination","combine2DArray","coursesArr","numCourses","gradeArr","gradeArrSize","Array","fill","map","row","course","gradeItem","index","combine2DArray2","array1","i","array2","j","gradArr","k","combine2DArray3","console","log","length","calculateSemPotentialGpa","degreeGpaHours","gpa","inProgressCourseCredits","chosenCourseCredits","chosenCoursesCreds","setProg","setShowBotButtons","requestOptions","method","headers","token","localStorage","getItem","redirect","fetch","then","response","text","result","catch","error","gradUploaded","setGradUploaded","json","data","graduates","graduate","studentId","requestOptions2","from","chosenCourses","_"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../assets/css/Finish.css\";\nimport { useHistory } from 'react-router-dom';\n//import axios from \"axios\";\nimport PullCourses from \"./PullCourses\";\nimport { useEffect, useState } from \"react\";\n\nconst Finish = (props) => {\n\n    const history = useHistory(); // Used to redirect to a new path without losing state values\n    const [uploaded, setUploaded] = useState(false); // Boolean value to indicate whether or not the advising session has been uploaded\n    \n    const transcriptDets = props.transcriptDetails;\n    \n    var totalCreditsCompleted = parseInt(props.studCredComplete) + parseInt(props.newDeg) + parseInt(props.courseInProgCredits); //this is a potential total number of credits completed\n    var gradeCombinations; //2D array to contain grade combination\n    var coursesNCredits = [...props.courseInProgNCreds, ...props.courseChoseNCreds];//join two arrays\n    //console.log(coursesNCredits);\n\n    //console.log(transcriptDets);\n\n    var combinedDegreeGpa; //estimated gpa calculated using prior gpa and current gpa\n\n    //An array containing the grades and their quality points\n    const gradesArray = [ {grade: 'A+', qualityPoints: 4.3}, \n                          {grade: 'A', qualityPoints: 4.0},\n                          {grade: 'A-', qualityPoints: 3.7},\n                          {grade: 'B+', qualityPoints: 3.3},\n                          {grade: 'B', qualityPoints: 3.0},\n                          {grade: 'B-', qualityPoints: 2.7},\n                          {grade: 'C+', qualityPoints: 2.3},\n                          {grade: 'C', qualityPoints: 2.0},\n                          //{grade: 'F1', qualityPoints: 1.7},\n                          //{grade: 'F2', qualityPoints: 1.3},\n                          //{grade: 'F3', qualityPoints: 0.0},\n                        ];\n\n    // If the user's recommended courses has been lost, redirect to start page to generate them again\n    if (props.recCourses === null) { \n        history.push({\n        pathname: '/start'\n        })\n    }\n\n\n    /*\n        Calculate potential gpa and potential degree class\n    */\n\n    /*\n        priorDegGpaHrs - Prior Degree GPA Hours\n        priorDegGpa - Prior Degree GPA\n        currDegGpaHrs - Current Degree GPA Hours\n        currDegGpa - Current Degree GPA\n\n        FORMULA:\n        Combined Degree GPA = ((Prior Degree GPA Hours x Prior Degree GPA) + \n                                (Current Degree GPA Hours x Current Degree GPA)) / \n                                (Prior Degree GPA Hours + Current Degree GPA Hours)\n    */\n    \n\n    //Function to calculate current degree gpa hours\n    function calculateCurrentDegreeGpaHrs(chosenCourseCreds, inProgCourseCreds){\n        var currDegGpaHrs = chosenCourseCreds + inProgCourseCreds;\n        return currDegGpaHrs;\n    }\n\n    //Function to calculate current degree gpa\n    function calculateCurrentDegreeGpa(totGradePtsEarned, totQualityPts){\n        var currDegGpa = totGradePtsEarned / totQualityPts;\n        return currDegGpa;\n    }\n    \n    //function to calculate estimated gpa\n    function calculateCombinedDegreeGpa(priorDegGpaHrs, priorDegGpa, currDegGpaHrs, currDegGpa){\n        var estimatedGPA = ((priorDegGpaHrs * priorDegGpa) + (currDegGpaHrs * currDegGpa)) / (priorDegGpaHrs + currDegGpaHrs);\n        return estimatedGPA;\n    }\n    //console.log(calculateCombinedDegreeGpa(60.00, 3.00, 3.00, 4.00).toFixed(2));\n\n    //Function to calculate grade points for a course\n    function calculateGradePoints(gradeQualityHrs, gradeQualityPts){\n        const gradePoints = gradeQualityHrs * gradeQualityPts;\n        return gradePoints;\n    }\n\n    //Function to create grade combinations based on the number of courses a student is pursuing for the semester\n    function createGradeCombination(combine2DArray, coursesArr, numCourses, gradeArr, gradeArrSize){\n        combine2DArray = Array(gradeArrSize).fill(0).map(row => new Array(numCourses).fill(1)); //initialize\n        //combine2DArray = Array(gradeArrSize).map(row => new Array(numCourses));\n\n        coursesArr.map(course => {//traverse through course array\n            gradeArr.map(gradeItem => {\n\n            })\n        });\n\n        var index = 0;\n\n        var combine2DArray2 = combine2DArray.map((array1, i) => //in first dimension\n            //console.log(i);\n            array1.map((array2, j) => { //in second dimension\n                return gradArr\n                gradeArr.map((gradeItem, k) => {\n                    //console.log(gradeItem.grade);\n                \n                })\n                \n                //return j;\n        }));\n\n        /*\n        var combine2DArray3 = gradeArr.map((gradeItem, k) => {\n            combine2DArray.map((array1, i) => //in first dimension\n                //console.log(i);\n                array1.map((array2, j) => { //in second dimension\n                    return gradeItem;\n                    //return j;\n                }\n            ))\n        \n        });\n        */\n\n        //console.log(combine2DArray);\n        return combine2DArray3;\n    }\n\n    console.log(createGradeCombination(gradeCombinations, coursesNCredits, 5, gradesArray, gradesArray.length));\n\n    //function to calculate the potential degree gpa for the semester\n    function calculateSemPotentialGpa(){\n        const priorDegGpaHrs = transcriptDets.degreeGpaHours; //found on transcript\n        const priorDegGpa = transcriptDets.gpa; //found on transcript\n        //console.log(priorDegGpaHrs);\n\n        var inProgressCourseCredits = props.courseInProgCredits; //total credit for in progress courses\n        var chosenCourseCredits = props.chosenCoursesCreds; //total credits for chosen courses\n\n        var currDegGpaHrs = calculateCurrentDegreeGpaHrs(chosenCourseCredits, inProgressCourseCredits); //total credits of courses that you are pursuing this semester (including inprogress course & course chosen for advising)\n        \n        \n        //const currDegGpa = ; //need to know how much courses user doing this sem\n        //need credits and quality points for each cours\n        //console.log(priorDegGpa);\n    }\n    //calculateSemPotentialGpa();\n\n    useEffect(() => {\n        props.setProg(100); // Set advising progress to 100%\n        props.setShowBotButtons(false); // Hide \"Back to courses\" and \"Finish advising\" buttons on sidebar\n        //setTotCredComplete(parseInt(props.studCredComplete) + parseInt(props.newDeg) + parseInt(props.courseInProgCredits));//add the credits the student completed so far to the course credits that the student selected from advising \n        \n        //getAllPotentialGraduate();\n        //console.log(\"1\");\n        \n        /*\n        \n        async function getPotentialGraduate() {\n            try{\n                const res = await fetch(\"/student/a-potential-graduate/\" + localStorage.getItem(\"username\"));\n                const parseData = await res.json();\n                setPotentialGrad(parseData);\n            }\n            catch(err){\n                console.log(\"Error: \" + err.message);\n            }\n            /*\n            fetch(\"/student/a-potential-graduate/\" + localStorage.getItem(\"username\"))\n                .then((res) => res.json())\n                .then((data) => {\n                    console.log(data);\n                    setPotentialGrad(data);\n                })\n                .catch((err) =>{\n                    console.log(err.message);\n                });\n            */\n               \n        //}\n        \n        //getPotentialGraduate();\n        \n        \n    }, []);\n    \n    useEffect(() => {\n        if (!uploaded) { // If advising session has not yet been uploaded\n            var requestOptions = { // Create POST request\n                method: 'POST',\n                headers: {\n                    token: localStorage.getItem(\"token\"),\n                    \"Content-type\": \"application/json\",\n                },\n                redirect: 'follow'\n            };\n\n            fetch(`/student/academic-advising/session/${localStorage.getItem(\"username\")}`, requestOptions) // Make request to server to parse transcript, upload student details and their courses to the database\n                .then(response => response.text())\n                .then(result => console.log(result))\n                .catch(error => console.log('error', error));\n            \n            setUploaded(true);\n        }\n\n        if(totalCreditsCompleted >= 93){\n            if(!props.gradUploaded){//if potential graduate has not been uploaded to database yet\n                var requestOptions = { // Create POST request\n                    method: 'POST',\n                    headers: {\n                        token: localStorage.getItem(\"token\"),\n                        \"Content-type\": \"application/json\",\n                    },\n                    redirect: 'follow'\n                };\n                fetch(`/student/potential-graduate/${localStorage.getItem(\"username\")}`, requestOptions) // Make request to server to upload potential graduate\n                    .then(response => response.text())\n                    .then(result => console.log(result))\n                    .catch(error => console.log('error', error));\n                \n                props.setGradUploaded(true); \n            }\n        }\n        \n        if((totalCreditsCompleted >= 0 && totalCreditsCompleted < 93)){\n            var requestOptions = { // Create POST request\n                method: 'GET',\n                redirect: 'follow'\n            };\n\n            fetch(`/student/potential-graduates/all`, requestOptions) // Make request to server to get all potential graduate\n                .then(response => response.json())\n                .then((data) => {\n                    let graduates = data;\n\n                    if(graduates!==null){\n                        graduates.map(function(graduate){ \n\n                            if(graduate.studentId === parseInt(localStorage.getItem(\"username\"))){ //if potential graduate found in database\n                                var requestOptions2 = {//create DELETE request\n                                    method: 'DELETE',\n                                    headers: {\n                                        token: localStorage.getItem(\"token\")\n                                    }\n                                };\n\n                                fetch(`/student/potential-graduate/delete/${localStorage.getItem(\"username\")}`, requestOptions2) //delete potential graduate\n                                    .then(response => response.text())\n                                    .then(result => console.log(result))\n                                    .catch(error => console.log('error', error));\n                            }\n                            \n                        })\n                    }\n                })\n                .catch(error => console.log('error', error));\n        }\n    }, [totalCreditsCompleted]);\n\n    // async function uploadAdvisingSession() {\n    //     try {\n    //       const {data:response} = await axios.post(`/student/academic-advising/session/${localStorage.getItem(\"username\")}`) //use data destructuring to get data from the promise object\n    //       return response\n    //     }\n    //     catch (error) {\n    //       console.log(error);\n    //     }\n    // }\n\n\n    return (\n        <div className=\"content\">\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-sm-10\">\n                        <div className=\"card almost-card\">\n                            <div className=\"card-body\">\n                                <p className=\"almost-header blue-txt\">You're all done with advising!</p>\n                                <p className=\"almost-text\">Here's a list of all the courses you chose:</p>\n                                {\n                                    Array.from({ length: props.chosenCourses.length }, (_, k) => {\n                                        return <p className=\"course-chosen blue-txt\">{props.chosenCourses[k]}</p>\n                                    })\n                                }\n                            </div>\n\n                            <div className=\"card body-tips\" >\n                                <p className=\"almost-header2\">Potential Degree Class:</p>\n                                <p className=\"almost-text2\">Here's a list of all the courses you chose:</p>\n                            </div>\n                                \n                            \n\n                        </div>\n                        \n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n  \n}\n\nexport default Finish;\n"]},"metadata":{},"sourceType":"module"}