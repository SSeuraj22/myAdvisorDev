{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = navigableEvent; // Navigable event means the end-user is focusing on an inputtable element, but it is okay to capture the arrow keys.\n// For example, if the end-user is on <button>, we can capture the arrow keys.\n// We can also capture arrow keys when the user is on a <textarea> without contents.\n// eslint-disable-next-line complexity\n\nfunction navigableEvent(event) {\n  var altKey = event.altKey,\n      target = event.target,\n      tagName = event.target.tagName;\n  var autocompleteAttribute = target.getAttribute('autocomplete');\n  var autocomplete = autocompleteAttribute && autocompleteAttribute !== 'off'; // Generally, we allow up/down arrow keys on all elements captured here, except those handled by the user agent.\n  // For example, if it is on <select>, we will ignore up/down arrow keys. Also true for textbox with autocomplete.\n  // For some elements, user agent doesn't handle arrow keys when ALT key is held, so we can still handle ALT + UP/DOWN keys.\n  // For example, user agent ignores ALT + UP/DOWN on <input type=\"text\"> with content.\n  // Counter-example: user agent continues to handle ALT + UP/DOWN on <input type=\"number\">.\n\n  if (tagName === 'INPUT') {\n    var list = target.list,\n        type = target.type,\n        value = target.value; // These are buttons, up/down arrow keys are not handled by the user agent.\n\n    if (type === 'button' || type === 'checkbox' || type === 'file' || type === 'image' || type === 'radio' || type === 'reset' || type === 'submit') {\n      return true;\n    } else if (type === 'email' || type === 'password' || type === 'search' || type === 'tel' || type === 'text' || type === 'url') {\n      if (autocomplete || list) {\n        // \"autocomplete\" and \"list\" are comboboxes. Up/down arrow keys may be handled by the user agent.\n        return true;\n      } else if (altKey || !value) {\n        // If the input has content, user agent will handle up/down arrow and it work similar to HOME/END keys.\n        // \"altKey\" can be used; user agent ignores ALT + UP/DOWN.\n        return true;\n      }\n    }\n  } else if (tagName === 'SELECT') {\n    // User agent handles up/down arrow keys for dropdown list.\n    return false;\n  } else if (tagName === 'TEXTAREA') {\n    if (!autocomplete && (altKey || !target.value)) {\n      // User agent handles up/down arrow keys for multiline text box if it has content or is auto-complete.\n      return true;\n    }\n  } else if (target.getAttribute('contenteditable') === 'true') {\n    if (altKey || !target.innerHTML) {\n      // \"contenteditable\" element works like <textarea> minus \"autocomplete\".\n      return true;\n    }\n  } else {\n    return true;\n  }\n}","map":{"version":3,"sources":["../../../src/Utils/TypeFocusSink/navigableEvent.js"],"names":["altKey","target","tagName","event","autocompleteAttribute","autocomplete","list","type","value"],"mappings":";;;;;kCAAA;AACA;AACA;AACA;;AACe,SAAA,cAAA,CAAA,KAAA,EAA+B;AAAA,MAE1CA,MAF0C,GAKxCG,KALwC,CAAA,MAAA;AAAA,MAG1CF,MAH0C,GAKxCE,KALwC,CAAA,MAAA;AAAA,MAIhCD,OAJgC,GAKxCC,KALwC,CAAA,MAKxCA,CALwC,OAAA;AAO5C,MAAMC,qBAAqB,GAAGH,MAAM,CAANA,YAAAA,CAA9B,cAA8BA,CAA9B;AACA,MAAMI,YAAY,GAAGD,qBAAqB,IAAIA,qBAAqB,KARvB,KAQ5C,CAR4C,CAU5C;AACA;AAEA;AACA;AACA;;AACA,MAAIF,OAAO,KAAX,OAAA,EAAyB;AAAA,QACfI,IADe,GACOL,MADP,CAAA,IAAA;AAAA,QACTM,IADS,GACON,MADP,CAAA,IAAA;AAAA,QACHO,KADG,GACOP,MADP,CAAA,KAAA,CAAA,CAGvB;;AACA,QACEM,IAAI,KAAJA,QAAAA,IACAA,IAAI,KADJA,UAAAA,IAEAA,IAAI,KAFJA,MAAAA,IAGAA,IAAI,KAHJA,OAAAA,IAIAA,IAAI,KAJJA,OAAAA,IAKAA,IAAI,KALJA,OAAAA,IAMAA,IAAI,KAPN,QAAA,EAQE;AACA,aAAA,IAAA;AATF,KAAA,MAUO,IACLA,IAAI,KAAJA,OAAAA,IACAA,IAAI,KADJA,UAAAA,IAEAA,IAAI,KAFJA,QAAAA,IAGAA,IAAI,KAHJA,KAAAA,IAIAA,IAAI,KAJJA,MAAAA,IAKAA,IAAI,KANC,KAAA,EAOL;AACA,UAAIF,YAAY,IAAhB,IAAA,EAA0B;AACxB;AACA,eAAA,IAAA;AAFF,OAAA,MAGO,IAAIL,MAAM,IAAI,CAAd,KAAA,EAAsB;AAC3B;AACA;AACA,eAAA,IAAA;AACD;AACF;AA9BH,GAAA,MA+BO,IAAIE,OAAO,KAAX,QAAA,EAA0B;AAC/B;AACA,WAAA,KAAA;AAFK,GAAA,MAGA,IAAIA,OAAO,KAAX,UAAA,EAA4B;AACjC,QAAI,CAAA,YAAA,KAAkBF,MAAM,IAAI,CAACC,MAAM,CAAvC,KAAI,CAAJ,EAAgD;AAC9C;AACA,aAAA,IAAA;AACD;AAJI,GAAA,MAKA,IAAIA,MAAM,CAANA,YAAAA,CAAAA,iBAAAA,MAAJ,MAAA,EAAuD;AAC5D,QAAID,MAAM,IAAI,CAACC,MAAM,CAArB,SAAA,EAAiC;AAC/B;AACA,aAAA,IAAA;AACD;AAJI,GAAA,MAKA;AACL,WAAA,IAAA;AACD;AACF","sourcesContent":["// Navigable event means the end-user is focusing on an inputtable element, but it is okay to capture the arrow keys.\n// For example, if the end-user is on <button>, we can capture the arrow keys.\n// We can also capture arrow keys when the user is on a <textarea> without contents.\n// eslint-disable-next-line complexity\nexport default function navigableEvent(event) {\n  const {\n    altKey,\n    target,\n    target: { tagName }\n  } = event;\n\n  const autocompleteAttribute = target.getAttribute('autocomplete');\n  const autocomplete = autocompleteAttribute && autocompleteAttribute !== 'off';\n\n  // Generally, we allow up/down arrow keys on all elements captured here, except those handled by the user agent.\n  // For example, if it is on <select>, we will ignore up/down arrow keys. Also true for textbox with autocomplete.\n\n  // For some elements, user agent doesn't handle arrow keys when ALT key is held, so we can still handle ALT + UP/DOWN keys.\n  // For example, user agent ignores ALT + UP/DOWN on <input type=\"text\"> with content.\n  // Counter-example: user agent continues to handle ALT + UP/DOWN on <input type=\"number\">.\n  if (tagName === 'INPUT') {\n    const { list, type, value } = target;\n\n    // These are buttons, up/down arrow keys are not handled by the user agent.\n    if (\n      type === 'button' ||\n      type === 'checkbox' ||\n      type === 'file' ||\n      type === 'image' ||\n      type === 'radio' ||\n      type === 'reset' ||\n      type === 'submit'\n    ) {\n      return true;\n    } else if (\n      type === 'email' ||\n      type === 'password' ||\n      type === 'search' ||\n      type === 'tel' ||\n      type === 'text' ||\n      type === 'url'\n    ) {\n      if (autocomplete || list) {\n        // \"autocomplete\" and \"list\" are comboboxes. Up/down arrow keys may be handled by the user agent.\n        return true;\n      } else if (altKey || !value) {\n        // If the input has content, user agent will handle up/down arrow and it work similar to HOME/END keys.\n        // \"altKey\" can be used; user agent ignores ALT + UP/DOWN.\n        return true;\n      }\n    }\n  } else if (tagName === 'SELECT') {\n    // User agent handles up/down arrow keys for dropdown list.\n    return false;\n  } else if (tagName === 'TEXTAREA') {\n    if (!autocomplete && (altKey || !target.value)) {\n      // User agent handles up/down arrow keys for multiline text box if it has content or is auto-complete.\n      return true;\n    }\n  } else if (target.getAttribute('contenteditable') === 'true') {\n    if (altKey || !target.innerHTML) {\n      // \"contenteditable\" element works like <textarea> minus \"autocomplete\".\n      return true;\n    }\n  } else {\n    return true;\n  }\n}\n"],"sourceRoot":"component:///"},"metadata":{},"sourceType":"script"}