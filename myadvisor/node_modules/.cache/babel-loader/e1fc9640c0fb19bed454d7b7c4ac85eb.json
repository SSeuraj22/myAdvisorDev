{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connectSuggestedAction = exports.default = void 0;\n\nvar _botframeworkWebchatApi = require(\"botframework-webchat-api\");\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _AccessibleButton = _interopRequireDefault(require(\"../Utils/AccessibleButton\"));\n\nvar _connectToWebChat = _interopRequireDefault(require(\"../connectToWebChat\"));\n\nvar _useFocus = _interopRequireDefault(require(\"../hooks/useFocus\"));\n\nvar _useFocusAccessKeyEffect = _interopRequireDefault(require(\"../Utils/AccessKeySink/useFocusAccessKeyEffect\"));\n\nvar _useLocalizeAccessKey = _interopRequireDefault(require(\"../hooks/internal/useLocalizeAccessKey\"));\n\nvar _useScrollToEnd = _interopRequireDefault(require(\"../hooks/useScrollToEnd\"));\n\nvar _useSuggestedActionsAccessKey = _interopRequireDefault(require(\"../hooks/internal/useSuggestedActionsAccessKey\"));\n\nvar _useStyleSet3 = _interopRequireDefault(require(\"../hooks/useStyleSet\"));\n\nvar _useStyleToEmotionObject = _interopRequireDefault(require(\"../hooks/internal/useStyleToEmotionObject\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar useDirection = _botframeworkWebchatApi.hooks.useDirection,\n    useDisabled = _botframeworkWebchatApi.hooks.useDisabled,\n    usePerformCardAction = _botframeworkWebchatApi.hooks.usePerformCardAction,\n    useStyleOptions = _botframeworkWebchatApi.hooks.useStyleOptions,\n    useSuggestedActions = _botframeworkWebchatApi.hooks.useSuggestedActions;\nvar ROOT_STYLE = {\n  '&.webchat__suggested-action': {\n    '& .webchat__suggested-action__button': {\n      display: 'flex',\n      overflow: 'hidden' // Prevent image from leaking; object-fit does not work with IE11\n\n    }\n  }\n};\n\nvar connectSuggestedAction = function connectSuggestedAction() {\n  for (var _len = arguments.length, selectors = new Array(_len), _key = 0; _key < _len; _key++) {\n    selectors[_key] = arguments[_key];\n  }\n\n  return _connectToWebChat.default.apply(void 0, [function (_ref, _ref2) {\n    var clearSuggestedActions = _ref.clearSuggestedActions,\n        disabled = _ref.disabled,\n        language = _ref.language,\n        onCardAction = _ref.onCardAction;\n    var displayText = _ref2.displayText,\n        text = _ref2.text,\n        type = _ref2.type,\n        value = _ref2.value;\n    return {\n      click: function click() {\n        onCardAction({\n          displayText: displayText,\n          text: text,\n          type: type,\n          value: value\n        });\n        type === 'openUrl' && clearSuggestedActions();\n      },\n      disabled: disabled,\n      language: language\n    };\n  }].concat(selectors));\n};\n\nexports.connectSuggestedAction = connectSuggestedAction;\n\nvar SuggestedAction = function SuggestedAction(_ref3) {\n  var ariaHidden = _ref3['aria-hidden'],\n      buttonText = _ref3.buttonText,\n      className = _ref3.className,\n      displayText = _ref3.displayText,\n      image = _ref3.image,\n      imageAlt = _ref3.imageAlt,\n      text = _ref3.text,\n      textClassName = _ref3.textClassName,\n      type = _ref3.type,\n      value = _ref3.value;\n\n  var _useSuggestedActions = useSuggestedActions(),\n      _useSuggestedActions2 = _slicedToArray(_useSuggestedActions, 2),\n      _ = _useSuggestedActions2[0],\n      setSuggestedActions = _useSuggestedActions2[1];\n\n  var _useStyleOptions = useStyleOptions(),\n      _useStyleOptions2 = _slicedToArray(_useStyleOptions, 1),\n      suggestedActionsStackedLayoutButtonTextWrap = _useStyleOptions2[0].suggestedActionsStackedLayoutButtonTextWrap;\n\n  var _useStyleSet = (0, _useStyleSet3.default)(),\n      _useStyleSet2 = _slicedToArray(_useStyleSet, 1),\n      suggestedActionStyleSet = _useStyleSet2[0].suggestedAction;\n\n  var _useSuggestedActionsA = (0, _useSuggestedActionsAccessKey.default)(),\n      _useSuggestedActionsA2 = _slicedToArray(_useSuggestedActionsA, 1),\n      accessKey = _useSuggestedActionsA2[0];\n\n  var _useDirection = useDirection(),\n      _useDirection2 = _slicedToArray(_useDirection, 1),\n      direction = _useDirection2[0];\n\n  var _useDisabled = useDisabled(),\n      _useDisabled2 = _slicedToArray(_useDisabled, 1),\n      disabled = _useDisabled2[0];\n\n  var focus = (0, _useFocus.default)();\n  var focusRef = (0, _react.useRef)();\n  var localizeAccessKey = (0, _useLocalizeAccessKey.default)();\n  var performCardAction = usePerformCardAction();\n  var scrollToEnd = (0, _useScrollToEnd.default)();\n  var rootClassName = (0, _useStyleToEmotionObject.default)()(ROOT_STYLE) + '';\n  var handleClick = (0, _react.useCallback)(function (_ref4) {\n    var target = _ref4.target;\n    performCardAction({\n      displayText: displayText,\n      text: text,\n      type: type,\n      value: value\n    }, {\n      target: target\n    }); // Since \"openUrl\" action do not submit, the suggested action buttons do not hide after click.\n\n    type === 'openUrl' && setSuggestedActions([]);\n    focus('sendBoxWithoutKeyboard');\n    scrollToEnd();\n  }, [displayText, focus, performCardAction, scrollToEnd, setSuggestedActions, text, type, value]);\n  (0, _useFocusAccessKeyEffect.default)(accessKey, focusRef);\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    \"aria-hidden\": ariaHidden,\n    className: (0, _classnames.default)('webchat__suggested-action', {\n      'webchat__suggested-action--rtl': direction === 'rtl'\n    }, rootClassName, suggestedActionStyleSet + '', (className || '') + '')\n  }, /*#__PURE__*/_react.default.createElement(_AccessibleButton.default, _extends({}, accessKey ? {\n    'aria-keyshortcuts': localizeAccessKey(accessKey)\n  } : {}, {\n    className: (0, _classnames.default)('webchat__suggested-action__button', {\n      'webchat__suggested-action--wrapping': suggestedActionsStackedLayoutButtonTextWrap\n    }),\n    disabled: disabled,\n    onClick: handleClick,\n    ref: focusRef,\n    type: \"button\"\n  }), image && /*#__PURE__*/_react.default.createElement(\"img\", {\n    alt: imageAlt,\n    className: (0, _classnames.default)('webchat__suggested-action__image', direction === 'rtl' && 'webchat__suggested-action__image--rtl'),\n    src: image\n  }), /*#__PURE__*/_react.default.createElement(\"span\", {\n    className: (0, _classnames.default)('webchat__suggested-action__text', (textClassName || '') + '')\n  }, buttonText)));\n};\n\nSuggestedAction.defaultProps = {\n  'aria-hidden': false,\n  className: '',\n  displayText: '',\n  image: '',\n  imageAlt: undefined,\n  text: '',\n  textClassName: '',\n  type: '',\n  value: undefined\n};\nSuggestedAction.propTypes = {\n  'aria-hidden': _propTypes.default.bool,\n  buttonText: _propTypes.default.string.isRequired,\n  className: _propTypes.default.string,\n  displayText: _propTypes.default.string,\n  image: _propTypes.default.string,\n  imageAlt: _propTypes.default.string,\n  text: _propTypes.default.string,\n  textClassName: _propTypes.default.string,\n  type: _propTypes.default.string,\n  value: _propTypes.default.any\n};\nvar _default = SuggestedAction;\nexports.default = _default;","map":{"version":3,"sources":["../../src/SendBox/SuggestedAction.js"],"names":["useDirection","useDisabled","usePerformCardAction","useStyleOptions","useSuggestedActions","hooks","ROOT_STYLE","display","overflow","connectSuggestedAction","selectors","clearSuggestedActions","disabled","language","onCardAction","displayText","text","type","value","click","SuggestedAction","ariaHidden","buttonText","className","image","imageAlt","textClassName","_","setSuggestedActions","suggestedActionsStackedLayoutButtonTextWrap","suggestedActionStyleSet","accessKey","direction","focus","focusRef","localizeAccessKey","performCardAction","scrollToEnd","rootClassName","handleClick","target","undefined","PropTypes","any"],"mappings":"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","sourcesContent":["import { hooks } from 'botframework-webchat-api';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useRef } from 'react';\n\nimport AccessibleButton from '../Utils/AccessibleButton';\nimport connectToWebChat from '../connectToWebChat';\nimport useFocus from '../hooks/useFocus';\nimport useFocusAccessKeyEffect from '../Utils/AccessKeySink/useFocusAccessKeyEffect';\nimport useLocalizeAccessKey from '../hooks/internal/useLocalizeAccessKey';\nimport useScrollToEnd from '../hooks/useScrollToEnd';\nimport useSuggestedActionsAccessKey from '../hooks/internal/useSuggestedActionsAccessKey';\nimport useStyleSet from '../hooks/useStyleSet';\nimport useStyleToEmotionObject from '../hooks/internal/useStyleToEmotionObject';\n\nconst { useDirection, useDisabled, usePerformCardAction, useStyleOptions, useSuggestedActions } = hooks;\n\nconst ROOT_STYLE = {\n  '&.webchat__suggested-action': {\n    '& .webchat__suggested-action__button': {\n      display: 'flex',\n      overflow: 'hidden' // Prevent image from leaking; object-fit does not work with IE11\n    }\n  }\n};\n\nconst connectSuggestedAction = (...selectors) =>\n  connectToWebChat(\n    ({ clearSuggestedActions, disabled, language, onCardAction }, { displayText, text, type, value }) => ({\n      click: () => {\n        onCardAction({ displayText, text, type, value });\n        type === 'openUrl' && clearSuggestedActions();\n      },\n      disabled,\n      language\n    }),\n    ...selectors\n  );\n\nconst SuggestedAction = ({\n  'aria-hidden': ariaHidden,\n  buttonText,\n  className,\n  displayText,\n  image,\n  imageAlt,\n  text,\n  textClassName,\n  type,\n  value\n}) => {\n  const [_, setSuggestedActions] = useSuggestedActions();\n  const [{ suggestedActionsStackedLayoutButtonTextWrap }] = useStyleOptions();\n  const [{ suggestedAction: suggestedActionStyleSet }] = useStyleSet();\n  const [accessKey] = useSuggestedActionsAccessKey();\n  const [direction] = useDirection();\n  const [disabled] = useDisabled();\n  const focus = useFocus();\n  const focusRef = useRef();\n  const localizeAccessKey = useLocalizeAccessKey();\n  const performCardAction = usePerformCardAction();\n  const scrollToEnd = useScrollToEnd();\n  const rootClassName = useStyleToEmotionObject()(ROOT_STYLE) + '';\n\n  const handleClick = useCallback(\n    ({ target }) => {\n      performCardAction({ displayText, text, type, value }, { target });\n\n      // Since \"openUrl\" action do not submit, the suggested action buttons do not hide after click.\n      type === 'openUrl' && setSuggestedActions([]);\n\n      focus('sendBoxWithoutKeyboard');\n      scrollToEnd();\n    },\n    [displayText, focus, performCardAction, scrollToEnd, setSuggestedActions, text, type, value]\n  );\n\n  useFocusAccessKeyEffect(accessKey, focusRef);\n\n  return (\n    <div\n      aria-hidden={ariaHidden}\n      className={classNames(\n        'webchat__suggested-action',\n        { 'webchat__suggested-action--rtl': direction === 'rtl' },\n        rootClassName,\n        suggestedActionStyleSet + '',\n        (className || '') + ''\n      )}\n    >\n      <AccessibleButton\n        {...(accessKey ? { 'aria-keyshortcuts': localizeAccessKey(accessKey) } : {})}\n        className={classNames('webchat__suggested-action__button', {\n          'webchat__suggested-action--wrapping': suggestedActionsStackedLayoutButtonTextWrap\n        })}\n        disabled={disabled}\n        onClick={handleClick}\n        ref={focusRef}\n        type=\"button\"\n      >\n        {image && (\n          <img\n            alt={imageAlt}\n            className={classNames(\n              'webchat__suggested-action__image',\n              direction === 'rtl' && 'webchat__suggested-action__image--rtl'\n            )}\n            src={image}\n          />\n        )}\n        <span className={classNames('webchat__suggested-action__text', (textClassName || '') + '')}>{buttonText}</span>\n      </AccessibleButton>\n    </div>\n  );\n};\n\nSuggestedAction.defaultProps = {\n  'aria-hidden': false,\n  className: '',\n  displayText: '',\n  image: '',\n  imageAlt: undefined,\n  text: '',\n  textClassName: '',\n  type: '',\n  value: undefined\n};\n\nSuggestedAction.propTypes = {\n  'aria-hidden': PropTypes.bool,\n  buttonText: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  displayText: PropTypes.string,\n  image: PropTypes.string,\n  imageAlt: PropTypes.string,\n  text: PropTypes.string,\n  textClassName: PropTypes.string,\n  type: PropTypes.string,\n  value: PropTypes.any\n};\n\nexport default SuggestedAction;\n\nexport { connectSuggestedAction };\n"],"sourceRoot":"component:///"},"metadata":{},"sourceType":"script"}