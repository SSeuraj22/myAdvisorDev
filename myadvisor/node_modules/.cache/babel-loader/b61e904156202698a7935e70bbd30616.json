{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/ubuntu/myAdvisorDev/myadvisor/src/components/Staff/Courses.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport CoursesTable from \"./CoursesTable\";\nimport AddCourse from \"./AddCourse\";\nimport { Jumbotron, Container } from 'react-bootstrap';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\n/*\n    Courses is a component that displays the courses table and addCourses component.\n*/\n\nfunction Courses() {\n  _s();\n\n  /*\n      The show state is used to keep track of the visibility of the addCourses modal.\n      It's initial state is false.\n      handleShow sets the show state to true, which displays the modal.\n      handleClose sets the show state to false, which closes the modal.\n  */\n  const [show, setShow] = useState(false);\n\n  const handleShow = () => setShow(true);\n\n  const handleClose = () => setShow(false);\n  /*\n      The courses state is used store all the courses that will be displayed in the table.\n      The loading state is used to keep track of getting the courses from the server. \n      It's initial state is true, so the table will not be displayed until the system has fetched all courses.\n  */\n\n\n  const [courses, setCourses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  /*\n      notifyDelete is used to display a toast notifications when a course is deleted. It displays a red toast.\n  */\n\n  const notifyDelete = text => toast.error(text);\n  /*\n      getCourses creates a get request to the server that gets all the courses on the system and stores it in the courses state.\n  */\n\n\n  async function getCourses() {\n    try {\n      const res = await fetch(\"/courses/all\", {\n        method: \"GET\"\n      });\n      const parseData = await res.json();\n      setCourses(parseData);\n      setLoading(false);\n    } catch (err) {\n      console.error(err.message);\n    }\n  }\n\n  console.log;\n  /*\n      deleteCourse creates a delete request to the server that deletes the course with the specified course id\n  */\n\n  async function deleteCourse(courseCode) {\n    try {\n      const res = await fetch(\"/courses/delete/\" + courseCode, {\n        method: \"DELETE\",\n        headers: {\n          token: localStorage.getItem(\"token\")\n        }\n      });\n      setLoading(false);\n      refreshTable();\n      notifyDelete(courseCode + \" Deleted\");\n    } catch (err) {\n      notifyDelete(err.message);\n      console.error(err.message);\n    }\n  }\n  /*\n      confirmDelete is a popup that asks the user to confirm that they want to delete a course\n  */\n\n\n  function confirmDelete(courseCode) {\n    confirmAlert({\n      title: 'Delete Confirmation',\n      message: 'Are you sure you want to delete ' + courseCode + \"?\",\n      buttons: [{\n        label: 'Yes',\n        onClick: () => deleteCourse(courseCode)\n      }, {\n        label: 'No'\n      }]\n    });\n  }\n\n  ;\n  useEffect(() => {\n    getCourses();\n  }, []);\n  /*\n      refreshTable sets the loading state to true and gets the courses from the system.\n  */\n\n  function refreshTable() {\n    setLoading(true);\n    getCourses();\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Jumbotron, {\n      fluid: true,\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Courses\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"row mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-10\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"card h-100\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"card-body shadow-sm\",\n              children: /*#__PURE__*/_jsxDEV(CoursesTable, {\n                courses: courses,\n                loading: loading,\n                confirmDelete: confirmDelete,\n                refreshTable: refreshTable\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            class: \"btn btn-custom add-course\",\n            onClick: handleShow,\n            children: \"Add Course\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          show: show,\n          onHide: handleClose,\n          size: \"lg\",\n          children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n            closeButton: true,\n            children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n              children: \"Add Course\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n            children: /*#__PURE__*/_jsxDEV(AddCourse, {\n              setShow: setShow,\n              refreshTable: refreshTable\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n      pauseOnHover: true,\n      position: \"bottom-right\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Courses, \"PRGOkiCy9qiqIE7b+lrvRXlYSYI=\");\n\n_c = Courses;\nexport default Courses;\n\nvar _c;\n\n$RefreshReg$(_c, \"Courses\");","map":{"version":3,"sources":["/home/ubuntu/myAdvisorDev/myadvisor/src/components/Staff/Courses.js"],"names":["React","useState","useEffect","Modal","CoursesTable","AddCourse","Jumbotron","Container","ToastContainer","toast","confirmAlert","Courses","show","setShow","handleShow","handleClose","courses","setCourses","loading","setLoading","notifyDelete","text","error","getCourses","res","fetch","method","parseData","json","err","console","message","log","deleteCourse","courseCode","headers","token","localStorage","getItem","refreshTable","confirmDelete","title","buttons","label","onClick"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport CoursesTable from \"./CoursesTable\";\nimport AddCourse from \"./AddCourse\";\nimport {Jumbotron, Container} from 'react-bootstrap';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\n\n/*\n    Courses is a component that displays the courses table and addCourses component.\n*/\n\nfunction Courses() {\n    /*\n        The show state is used to keep track of the visibility of the addCourses modal.\n        It's initial state is false.\n        handleShow sets the show state to true, which displays the modal.\n        handleClose sets the show state to false, which closes the modal.\n    */ \n    const [show, setShow] = useState(false);\n    const handleShow = () => setShow(true);\n    const handleClose = () => setShow(false);\n\n    /*\n        The courses state is used store all the courses that will be displayed in the table.\n        The loading state is used to keep track of getting the courses from the server. \n        It's initial state is true, so the table will not be displayed until the system has fetched all courses.\n    */ \n    const [courses, setCourses] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    /*\n        notifyDelete is used to display a toast notifications when a course is deleted. It displays a red toast.\n    */\n    const notifyDelete = (text) => toast.error(text);\n\n    /*\n        getCourses creates a get request to the server that gets all the courses on the system and stores it in the courses state.\n    */\n    async function getCourses() {\n        try {\n            const res = await fetch(\"/courses/all\", {\n            method: \"GET\",\n          });\n          \n          const parseData = await res.json();\n          setCourses(parseData);\n          setLoading(false);\n          \n        } catch (err) {\n          console.error(err.message);\n        }\n    }\n    console.log\n\n    /*\n        deleteCourse creates a delete request to the server that deletes the course with the specified course id\n    */\n    async function deleteCourse(courseCode) {\n        try {\n          const res = await fetch(\"/courses/delete/\" + courseCode, {\n            method: \"DELETE\",\n            headers: {\n                token: localStorage.getItem(\"token\")\n            },\n          });\n    \n            setLoading(false);\n            refreshTable();\n            notifyDelete(courseCode + \" Deleted\");\n          \n        } catch (err) {\n            notifyDelete(err.message);\n            console.error(err.message);\n        }\n    }\n\n    /*\n        confirmDelete is a popup that asks the user to confirm that they want to delete a course\n    */\n    function confirmDelete(courseCode){\n        confirmAlert({\n          title: 'Delete Confirmation',\n          message: 'Are you sure you want to delete ' + courseCode + \"?\",\n          buttons: [\n            {\n              label: 'Yes',\n              onClick: () => deleteCourse(courseCode)\n            },\n            {\n              label: 'No',\n            }\n          ]\n        });\n    };\n\n    useEffect(() => {\n        getCourses();\n    }, []);\n\n    /*\n        refreshTable sets the loading state to true and gets the courses from the system.\n    */\n    function refreshTable(){\n        setLoading(true);\n        getCourses();\n    }\n\n    return (\n        <>\n            <Jumbotron fluid>\n                <Container>\n                    <h2>Courses</h2>\n                </Container>\n            </Jumbotron>\n            <div class=\"container\">\n                <div class=\"row mt-4\">\n                    {/* Courses Table */}\n                    <div class=\"col-10\">\n                        <div class=\"card h-100\">\n                            <div class=\"card-body shadow-sm\">\n                                <CoursesTable courses={courses} loading={loading} confirmDelete={confirmDelete} refreshTable={refreshTable}/>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Buttons */}\n                    <div class=\"col\">\n                        <button type=\"button\" class=\"btn btn-custom add-course\" onClick={handleShow}>Add Course</button>\n                    </div>\n\n                    <Modal show={show} onHide={handleClose} size=\"lg\">\n                        <Modal.Header closeButton>\n                            <Modal.Title>Add Course</Modal.Title>\n                        </Modal.Header>\n\n                        <Modal.Body >\n                            <AddCourse setShow={setShow} refreshTable={refreshTable} />\n                        </Modal.Body>\n                    </Modal>\n                </div>\n            </div>\n            <ToastContainer \n                pauseOnHover\n                position=\"bottom-right\"\n            />\n        </>\n    );\n}\n\nexport default Courses;"]},"metadata":{},"sourceType":"module"}