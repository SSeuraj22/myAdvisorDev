{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useComposerProps;\n\nvar _botframeworkWebchatComponent = require(\"botframework-webchat-component\");\n\nvar _react = require(\"react\");\n\nvar _createAdaptiveCardsAttachmentForScreenReaderMiddleware = _interopRequireDefault(require(\"./adaptiveCards/createAdaptiveCardsAttachmentForScreenReaderMiddleware\"));\n\nvar _createAdaptiveCardsAttachmentMiddleware = _interopRequireDefault(require(\"./adaptiveCards/createAdaptiveCardsAttachmentMiddleware\"));\n\nvar _createAdaptiveCardsStyleSet = _interopRequireDefault(require(\"./adaptiveCards/Styles/createAdaptiveCardsStyleSet\"));\n\nvar _renderMarkdown = _interopRequireDefault(require(\"./renderMarkdown\"));\n\nfunction useComposerProps(_ref) {\n  var attachmentForScreenReaderMiddleware = _ref.attachmentForScreenReaderMiddleware,\n      attachmentMiddleware = _ref.attachmentMiddleware,\n      renderMarkdown = _ref.renderMarkdown,\n      styleOptions = _ref.styleOptions,\n      styleSet = _ref.styleSet;\n  var patchedAttachmentMiddleware = (0, _react.useMemo)(function () {\n    return (0, _botframeworkWebchatComponent.concatMiddleware)(attachmentMiddleware, (0, _createAdaptiveCardsAttachmentMiddleware.default)());\n  }, [attachmentMiddleware]);\n  var patchedAttachmentForScreenReaderMiddleware = (0, _react.useMemo)(function () {\n    return (0, _botframeworkWebchatComponent.concatMiddleware)(attachmentForScreenReaderMiddleware, (0, _createAdaptiveCardsAttachmentForScreenReaderMiddleware.default)());\n  }, [attachmentForScreenReaderMiddleware]); // When styleSet is not specified, the styleOptions will be used to create Adaptive Cards styleSet and merged into useStyleSet.\n\n  var extraStyleSet = (0, _react.useMemo)(function () {\n    return styleSet ? undefined : (0, _createAdaptiveCardsStyleSet.default)(styleOptions);\n  }, [styleOptions, styleSet]);\n  var patchedRenderMarkdown = (0, _react.useMemo)(function () {\n    return typeof renderMarkdown === 'undefined' ? function () {\n      return _renderMarkdown.default.apply(void 0, arguments);\n    } : renderMarkdown;\n  }, [renderMarkdown]);\n  return {\n    attachmentMiddleware: patchedAttachmentMiddleware,\n    attachmentForScreenReaderMiddleware: patchedAttachmentForScreenReaderMiddleware,\n    extraStyleSet: extraStyleSet,\n    renderMarkdown: patchedRenderMarkdown\n  };\n}","map":{"version":3,"sources":["../src/useComposerProps.js"],"names":["attachmentForScreenReaderMiddleware","attachmentMiddleware","renderMarkdown","styleOptions","styleSet","patchedAttachmentMiddleware","patchedAttachmentForScreenReaderMiddleware","extraStyleSet","patchedRenderMarkdown","defaultRenderMarkdown"],"mappings":";;;;;;;;;AAAA,IAAA,6BAAA,GAAA,OAAA,CAAA,gCAAA,CAAA;;AACA,IAAA,MAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AAEA,IAAA,uDAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,wEAAA,CAAA,CAAA;;AACA,IAAA,wCAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,yDAAA,CAAA,CAAA;;AACA,IAAA,4BAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,oDAAA,CAAA,CAAA;;AACA,IAAA,eAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,kBAAA,CAAA,CAAA;;AAEe,SAAA,gBAAA,CAAA,IAAA,EAMZ;AAAA,MALDA,mCAKC,GAAA,IAAA,CALDA,mCAKC;AAAA,MAJDC,oBAIC,GAAA,IAAA,CAJDA,oBAIC;AAAA,MAHDC,cAGC,GAAA,IAAA,CAHDA,cAGC;AAAA,MAFDC,YAEC,GAAA,IAAA,CAFDA,YAEC;AAAA,MADDC,QACC,GAAA,IAAA,CADDA,QACC;AACD,MAAMC,2BAA2B,GAAG,CAAA,GAAA,MAAA,CAAA,OAAA,EAClC,YAAA;AAAA,WAAM,CAAA,GAAA,6BAAA,CAAA,gBAAA,EAAA,oBAAA,EAAuC,CAAA,GAAA,wCAAA,CAA7C,OAA6C,GAAvC,CAAN;AADkC,GAAA,EAElC,CAFF,oBAEE,CAFkC,CAApC;AAKA,MAAMC,0CAA0C,GAAG,CAAA,GAAA,MAAA,CAAA,OAAA,EACjD,YAAA;AAAA,WACE,CAAA,GAAA,6BAAA,CAAA,gBAAA,EAAA,mCAAA,EAAsD,CAAA,GAAA,uDAAA,CADxD,OACwD,GAAtD,CADF;AADiD,GAAA,EAGjD,CATD,mCASC,CAHiD,CAAnD,CANC,CAYD;;AACA,MAAMC,aAAa,GAAG,CAAA,GAAA,MAAA,CAAA,OAAA,EAAQ,YAAA;AAAA,WAAOH,QAAQ,GAAA,SAAA,GAAe,CAAA,GAAA,4BAAA,CAAA,OAAA,EAA9B,YAA8B,CAA9B;AAAR,GAAA,EAAkF,CAAA,YAAA,EAAxG,QAAwG,CAAlF,CAAtB;AAKA,MAAMI,qBAAqB,GAAG,CAAA,GAAA,MAAA,CAAA,OAAA,EAC5B,YAAA;AAAA,WAAO,OAAA,cAAA,KAAA,WAAA,GAAwC,YAAA;AAAA,aAAaC,eAAAA,CAAAA,OAAAA,CAAAA,KAAAA,CAAAA,KAAAA,CAAAA,EAAb,SAAaA,CAAb;AAAxC,KAAA,GAAP,cAAA;AAD4B,GAAA,EAE5B,CAFF,cAEE,CAF4B,CAA9B;AAKA,SAAO;AACLR,IAAAA,oBAAoB,EADf,2BAAA;AAELD,IAAAA,mCAAmC,EAF9B,0CAAA;AAGLO,IAAAA,aAAa,EAHR,aAAA;AAILL,IAAAA,cAAc,EAAEM;AAJX,GAAP;AAMD","sourcesContent":["import { concatMiddleware } from 'botframework-webchat-component';\nimport { useMemo } from 'react';\n\nimport createAdaptiveCardsAttachmentForScreenReaderMiddleware from './adaptiveCards/createAdaptiveCardsAttachmentForScreenReaderMiddleware';\nimport createAdaptiveCardsAttachmentMiddleware from './adaptiveCards/createAdaptiveCardsAttachmentMiddleware';\nimport createAdaptiveCardsStyleSet from './adaptiveCards/Styles/createAdaptiveCardsStyleSet';\nimport defaultRenderMarkdown from './renderMarkdown';\n\nexport default function useComposerProps({\n  attachmentForScreenReaderMiddleware,\n  attachmentMiddleware,\n  renderMarkdown,\n  styleOptions,\n  styleSet\n}) {\n  const patchedAttachmentMiddleware = useMemo(\n    () => concatMiddleware(attachmentMiddleware, createAdaptiveCardsAttachmentMiddleware()),\n    [attachmentMiddleware]\n  );\n\n  const patchedAttachmentForScreenReaderMiddleware = useMemo(\n    () =>\n      concatMiddleware(attachmentForScreenReaderMiddleware, createAdaptiveCardsAttachmentForScreenReaderMiddleware()),\n    [attachmentForScreenReaderMiddleware]\n  );\n\n  // When styleSet is not specified, the styleOptions will be used to create Adaptive Cards styleSet and merged into useStyleSet.\n  const extraStyleSet = useMemo(() => (styleSet ? undefined : createAdaptiveCardsStyleSet(styleOptions)), [\n    styleOptions,\n    styleSet\n  ]);\n\n  const patchedRenderMarkdown = useMemo(\n    () => (typeof renderMarkdown === 'undefined' ? (...args) => defaultRenderMarkdown(...args) : renderMarkdown),\n    [renderMarkdown]\n  );\n\n  return {\n    attachmentMiddleware: patchedAttachmentMiddleware,\n    attachmentForScreenReaderMiddleware: patchedAttachmentForScreenReaderMiddleware,\n    extraStyleSet,\n    renderMarkdown: patchedRenderMarkdown\n  };\n}\n"],"sourceRoot":"bundle:///"},"metadata":{},"sourceType":"script"}