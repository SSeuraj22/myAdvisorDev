{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HostCapabilities = void 0; // Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nvar serialization_1 = require(\"./serialization\");\n\nvar HostCapabilities =\n/** @class */\nfunction (_super) {\n  __extends(HostCapabilities, _super);\n\n  function HostCapabilities() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this._capabilities = {};\n    return _this;\n  }\n\n  HostCapabilities.prototype.getSchemaKey = function () {\n    return \"HostCapabilities\";\n  };\n\n  HostCapabilities.prototype.internalParse = function (source, context) {\n    _super.prototype.internalParse.call(this, source, context);\n\n    if (source) {\n      for (var name_1 in source) {\n        var jsonVersion = source[name_1];\n\n        if (typeof jsonVersion === \"string\") {\n          if (jsonVersion == \"*\") {\n            this.addCapability(name_1, \"*\");\n          } else {\n            var version = serialization_1.Version.parse(jsonVersion, context);\n\n            if (version && version.isValid) {\n              this.addCapability(name_1, version);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  HostCapabilities.prototype.internalToJSON = function (target, context) {\n    _super.prototype.internalToJSON.call(this, target, context);\n\n    for (var key in this._capabilities) {\n      target[key] = this._capabilities[key];\n    }\n  };\n\n  HostCapabilities.prototype.addCapability = function (name, version) {\n    this._capabilities[name] = version;\n  };\n\n  HostCapabilities.prototype.removeCapability = function (name) {\n    delete this._capabilities[name];\n  };\n\n  HostCapabilities.prototype.clear = function () {\n    this._capabilities = {};\n  };\n\n  HostCapabilities.prototype.hasCapability = function (name, version) {\n    if (this._capabilities.hasOwnProperty(name)) {\n      if (version == \"*\" || this._capabilities[name] == \"*\") {\n        return true;\n      }\n\n      return version.compareTo(this._capabilities[name]) <= 0;\n    }\n\n    return false;\n  };\n\n  HostCapabilities.prototype.areAllMet = function (hostCapabilities) {\n    for (var capabilityName in this._capabilities) {\n      if (!hostCapabilities.hasCapability(capabilityName, this._capabilities[capabilityName])) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  return HostCapabilities;\n}(serialization_1.SerializableObject);\n\nexports.HostCapabilities = HostCapabilities;","map":{"version":3,"sources":["../src/host-capabilities.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HostCapabilities = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nvar serialization_1 = require(\"./serialization\");\r\nvar HostCapabilities = /** @class */ (function (_super) {\r\n    __extends(HostCapabilities, _super);\r\n    function HostCapabilities() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this._capabilities = {};\r\n        return _this;\r\n    }\r\n    HostCapabilities.prototype.getSchemaKey = function () {\r\n        return \"HostCapabilities\";\r\n    };\r\n    HostCapabilities.prototype.internalParse = function (source, context) {\r\n        _super.prototype.internalParse.call(this, source, context);\r\n        if (source) {\r\n            for (var name_1 in source) {\r\n                var jsonVersion = source[name_1];\r\n                if (typeof jsonVersion === \"string\") {\r\n                    if (jsonVersion == \"*\") {\r\n                        this.addCapability(name_1, \"*\");\r\n                    }\r\n                    else {\r\n                        var version = serialization_1.Version.parse(jsonVersion, context);\r\n                        if (version && version.isValid) {\r\n                            this.addCapability(name_1, version);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    HostCapabilities.prototype.internalToJSON = function (target, context) {\r\n        _super.prototype.internalToJSON.call(this, target, context);\r\n        for (var key in this._capabilities) {\r\n            target[key] = this._capabilities[key];\r\n        }\r\n    };\r\n    HostCapabilities.prototype.addCapability = function (name, version) {\r\n        this._capabilities[name] = version;\r\n    };\r\n    HostCapabilities.prototype.removeCapability = function (name) {\r\n        delete this._capabilities[name];\r\n    };\r\n    HostCapabilities.prototype.clear = function () {\r\n        this._capabilities = {};\r\n    };\r\n    HostCapabilities.prototype.hasCapability = function (name, version) {\r\n        if (this._capabilities.hasOwnProperty(name)) {\r\n            if (version == \"*\" || this._capabilities[name] == \"*\") {\r\n                return true;\r\n            }\r\n            return version.compareTo(this._capabilities[name]) <= 0;\r\n        }\r\n        return false;\r\n    };\r\n    HostCapabilities.prototype.areAllMet = function (hostCapabilities) {\r\n        for (var capabilityName in this._capabilities) {\r\n            if (!hostCapabilities.hasCapability(capabilityName, this._capabilities[capabilityName])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    return HostCapabilities;\r\n}(serialization_1.SerializableObject));\r\nexports.HostCapabilities = HostCapabilities;\r\n//# sourceMappingURL=host-capabilities.js.map"]},"metadata":{},"sourceType":"script"}