{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.formatText = void 0; // Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n\nvar AbstractTextFormatter =\n/** @class */\nfunction () {\n  function AbstractTextFormatter(regularExpression) {\n    this._regularExpression = regularExpression;\n  }\n\n  AbstractTextFormatter.prototype.format = function (lang, input) {\n    var matches;\n\n    if (input) {\n      var result = input;\n\n      while ((matches = this._regularExpression.exec(input)) != null) {\n        result = result.replace(matches[0], this.internalFormat(lang, matches));\n      }\n\n      ;\n      return result;\n    } else {\n      return input;\n    }\n  };\n\n  return AbstractTextFormatter;\n}();\n\nvar DateFormatter =\n/** @class */\nfunction (_super) {\n  __extends(DateFormatter, _super);\n\n  function DateFormatter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DateFormatter.prototype.internalFormat = function (lang, matches) {\n    var date = new Date(Date.parse(matches[1]));\n    var format = matches[2] != undefined ? matches[2].toLowerCase() : \"compact\";\n\n    if (format != \"compact\") {\n      return date.toLocaleDateString(lang, {\n        day: \"numeric\",\n        weekday: format,\n        month: format,\n        year: \"numeric\"\n      });\n    } else {\n      return date.toLocaleDateString();\n    }\n  };\n\n  return DateFormatter;\n}(AbstractTextFormatter);\n\nvar TimeFormatter =\n/** @class */\nfunction (_super) {\n  __extends(TimeFormatter, _super);\n\n  function TimeFormatter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TimeFormatter.prototype.internalFormat = function (lang, matches) {\n    var date = new Date(Date.parse(matches[1]));\n    return date.toLocaleTimeString(lang, {\n      hour: 'numeric',\n      minute: '2-digit'\n    });\n  };\n\n  return TimeFormatter;\n}(AbstractTextFormatter);\n\nfunction formatText(lang, text) {\n  var formatters = [new DateFormatter(/\\{{2}DATE\\((\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:Z|(?:(?:-|\\+)\\d{2}:\\d{2})))(?:, ?(COMPACT|LONG|SHORT))?\\)\\}{2}/g), new TimeFormatter(/\\{{2}TIME\\((\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:Z|(?:(?:-|\\+)\\d{2}:\\d{2})))\\)\\}{2}/g)];\n  var result = text;\n\n  for (var _i = 0, formatters_1 = formatters; _i < formatters_1.length; _i++) {\n    var formatter = formatters_1[_i];\n    result = formatter.format(lang, result);\n  }\n\n  return result;\n}\n\nexports.formatText = formatText;","map":{"version":3,"sources":["../src/text-formatters.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.formatText = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nvar AbstractTextFormatter = /** @class */ (function () {\r\n    function AbstractTextFormatter(regularExpression) {\r\n        this._regularExpression = regularExpression;\r\n    }\r\n    AbstractTextFormatter.prototype.format = function (lang, input) {\r\n        var matches;\r\n        if (input) {\r\n            var result = input;\r\n            while ((matches = this._regularExpression.exec(input)) != null) {\r\n                result = result.replace(matches[0], this.internalFormat(lang, matches));\r\n            }\r\n            ;\r\n            return result;\r\n        }\r\n        else {\r\n            return input;\r\n        }\r\n    };\r\n    return AbstractTextFormatter;\r\n}());\r\nvar DateFormatter = /** @class */ (function (_super) {\r\n    __extends(DateFormatter, _super);\r\n    function DateFormatter() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DateFormatter.prototype.internalFormat = function (lang, matches) {\r\n        var date = new Date(Date.parse(matches[1]));\r\n        var format = matches[2] != undefined ? matches[2].toLowerCase() : \"compact\";\r\n        if (format != \"compact\") {\r\n            return date.toLocaleDateString(lang, { day: \"numeric\", weekday: format, month: format, year: \"numeric\" });\r\n        }\r\n        else {\r\n            return date.toLocaleDateString();\r\n        }\r\n    };\r\n    return DateFormatter;\r\n}(AbstractTextFormatter));\r\nvar TimeFormatter = /** @class */ (function (_super) {\r\n    __extends(TimeFormatter, _super);\r\n    function TimeFormatter() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TimeFormatter.prototype.internalFormat = function (lang, matches) {\r\n        var date = new Date(Date.parse(matches[1]));\r\n        return date.toLocaleTimeString(lang, { hour: 'numeric', minute: '2-digit' });\r\n    };\r\n    return TimeFormatter;\r\n}(AbstractTextFormatter));\r\nfunction formatText(lang, text) {\r\n    var formatters = [\r\n        new DateFormatter(/\\{{2}DATE\\((\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:Z|(?:(?:-|\\+)\\d{2}:\\d{2})))(?:, ?(COMPACT|LONG|SHORT))?\\)\\}{2}/g),\r\n        new TimeFormatter(/\\{{2}TIME\\((\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:Z|(?:(?:-|\\+)\\d{2}:\\d{2})))\\)\\}{2}/g)\r\n    ];\r\n    var result = text;\r\n    for (var _i = 0, formatters_1 = formatters; _i < formatters_1.length; _i++) {\r\n        var formatter = formatters_1[_i];\r\n        result = formatter.format(lang, result);\r\n    }\r\n    return result;\r\n}\r\nexports.formatText = formatText;\r\n//# sourceMappingURL=text-formatters.js.map"]},"metadata":{},"sourceType":"script"}